{% extends "ambulancia/base.html" %}
{% load staticfiles %}

{% block title %}
Presentismo
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/jquery-ui-1.10.3.custom.css' %}">
{% endblock %}

{% block cuerpo %}

    <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="checkbox" id="selectall"/> Seleccionar Todos

        <div id="datepicker"></div>
        <input type='submit' />
    </form>


    <script src="{% static 'ambulancia/js/dates.js' %}"></script>
    <script src="{% static 'js/jquery-1.10.2.js' %}"></script>
    <script src="{% static 'js/jquery-ui.multidatespicker.js' %}"></script>
    <script src="{% static 'js/jquery.ui.datepicker.js' %}"></script>


    <script type="text/javascript">
        $(function() {
            $( "#datepicker" ).multiDatesPicker({
                inline: true,
                altField: '#id_date',
                dateFormat: "d/m/yyyy",
                changeMonth: true,
                changeYear: true,
                addDates: selectHolydaysAndWeekends(new Date()),
                onChangeMonthYear: function(year, month) {
                    $('#datepicker').multiDatesPicker('resetDates', 'picked');
                    $('#datepicker').multiDatesPicker('addDates',
                        selectHolydaysAndWeekends(new Date(year, month - 1, 1)));
                    $('#id_date').val($('#datepicker').multiDatesPicker('getDates'));
                }
            });

            $("#selectall").click(function(event) {
                if (this.checked) {
                    $("form :checkbox").each(function() {
                         this.checked = true;
                    });
                } else {
                    $("form :checkbox").each(function() {
                         this.checked = false;
                    });
                }
            });
        });


    </script>

{% endblock %}
